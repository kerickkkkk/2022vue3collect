import{u as v,i as b,r as i,a as f,o as w,c as h,b as s,w as r,v as c,e as u,f as x,g as k}from"./index-be80c7c0.js";import{a as g}from"./axios-86558b18.js";const V={class:"bg-light p-4"},y={class:"mb-3"},$=s("label",{for:"username",class:"form-label"},"信箱",-1),B={class:"mb-3"},C=s("label",{for:"password",class:"form-label"},"Password",-1),H={__name:"loginView",setup(N){const d=v(),p=b("$swal"),m="https://vue3-course-api.hexschool.io/v2",a=i(""),n=i(""),_=()=>{const l={username:a.value,password:n.value};g.post(`${m}/admin/signin`,l).then(({data:e})=>{console.log(e);const{token:o,expired:t}=e;document.cookie=`ttShopToken=${o}; expires=${new Date(t)}; `,d.push({name:"admin_index"})}).catch(e=>{var o;console.dir(e),p((o=e==null?void 0:e.response)==null?void 0:o.data)})};return(l,e)=>{const o=f("router-link");return w(),h("div",null,[s("form",V,[s("div",y,[$,r(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>a.value=t),type:"email",class:"form-control",id:"username","aria-describedby":"emailHelp"},null,512),[[c,a.value]])]),s("div",B,[C,r(s("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>n.value=t),type:"password",class:"form-control",id:"password"},null,512),[[c,n.value]])]),s("button",{onClick:_,type:"submit",class:"btn btn-primary"}," 送出 "),s("div",null,[u(" 沒有帳號嗎？ "),x(o,{to:"/register"},{default:k(()=>[u("註冊去")]),_:1})])])])}}};export{H as default};
