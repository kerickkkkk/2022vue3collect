import{A as C,j as $,k as w,i as S,r,m as B,o as v,c as p,b as t,B as V,x as a,w as j,v as M,d as c,y as z,t as N,z as m,g as P,p as _}from"./index-b26f5b11.js";const T={class:"container"},U=t("h3",{class:"text-center my-4"},"產品詳細",-1),A={class:"container"},D={class:"row mb-3 p-3"},q={class:"col-md-6 mb-3"},E={class:"slide__main"},H={class:"col-md-6 mb-3"},L={class:"text-primary mb-3"},R=t("p",null,"付款方式： ATM 、 信用卡",-1),F={class:"d-flex align-items-center mb-2"},G=t("div",{class:"me-2"},"數量:",-1),I={class:"btn-group me-3",role:"group","aria-label":"Basic checkbox toggle button group"},J=["disabled"],K={class:"d-flex justify-content-end mb-2"},O={key:0,class:"text-primary ms-auto"},Q={class:"h4"},W={class:"d-flex justify-content-end"},Z={__name:"ProductView",setup(X){const b=C(),h=$(),g=w(),{setLoading:l}=h,y=S("$swal"),{addCart:u}=g,n=r(1),f="https://vue3-course-api.hexschool.io/v2",x="vue3",e=r([]),k=i=>{l(!0),P.get(`${f}/api/${x}/product/${i}`).then(({data:s})=>{console.log(s),e.value=s.product,l(!1)}).catch(s=>{var o;l(!1),console.dir(s),y((o=s==null?void 0:s.response)==null?void 0:o.data)})},d=i=>{i==="minus"?n.value=n.value>0?n.value-1:0:i==="plus"&&(n.value+=1)};return B(()=>{const{id:i}=b.params;k(i)}),(i,s)=>(v(),p("div",T,[U,t("div",A,[t("div",D,[t("div",q,[t("div",E,[t("div",{class:"bg-cover img-fluid",style:V([`background-image: url(${e.value.imageUrl})`,{"min-height":"350px"}])},null,4)])]),t("div",H,[t("div",null,[t("h1",L,a(e.value.title),1),t("p",null,a(e.value.description),1),R,t("div",F,[G,t("div",I,[t("button",{disabled:n.value<2,type:"button",class:"btn btn-primary",onClick:s[0]||(s[0]=o=>d("minus"))}," - ",8,J),j(t("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>n.value=o),type:"number",min:"1",class:"form-control rounded-0",style:{width:"80px"}},null,512),[[M,n.value,void 0,{number:!0}]]),t("button",{type:"button",class:"btn btn-primary",onClick:s[2]||(s[2]=o=>d("plus"))}," + ")]),c(" "+a(e.value.unit),1)]),t("div",K,[t("div",{class:z({"text-decoration-line-through":e.value.origin_price!==e.value.price})}," 原價： "+a(e.value.origin_price)+" 元 ",3),e.value.origin_price!==e.value.price?(v(),p("div",O,[c(" 特價："),t("span",Q,a(e.value.price),1),c(" 元 ")])):N("",!0)]),t("div",W,[t("div",{class:"btn btn-outline-primary me-2",onClick:s[3]||(s[3]=m(o=>_(u)(e.value.id,e.value.num),["prevent","stop"]))}," 加入購物車 "),t("button",{type:"button",class:"btn btn-primary",onClick:s[4]||(s[4]=m(o=>_(u)(!0),["prevent"]))}," 直接結帳 ")])])])])])]))}};export{Z as default};
