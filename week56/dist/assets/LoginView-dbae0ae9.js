import{u as v,i as b,r as i,a as f,o as w,c as h,b as s,w as c,v as r,d,e as x,f as k,g}from"./index-907ac9d8.js";const V={class:"bg-light p-4"},y={class:"mb-3"},$=s("label",{for:"username",class:"form-label"},"信箱",-1),B={class:"mb-3"},C=s("label",{for:"password",class:"form-label"},"Password",-1),D={__name:"LoginView",setup(N){const u=v(),p=b("$swal"),m="https://vue3-course-api.hexschool.io/v2",a=i(""),n=i(""),_=()=>{const l={username:a.value,password:n.value};g.post(`${m}/admin/signin`,l).then(({data:e})=>{console.log(e);const{token:o,expired:t}=e;document.cookie=`ttShopToken=${o}; expires=${new Date(t)}; `,u.push({name:"admin_index"})}).catch(e=>{var o;console.dir(e),p((o=e==null?void 0:e.response)==null?void 0:o.data)})};return(l,e)=>{const o=f("router-link");return w(),h("div",null,[s("form",V,[s("div",y,[$,c(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>a.value=t),type:"email",class:"form-control",id:"username","aria-describedby":"emailHelp"},null,512),[[r,a.value]])]),s("div",B,[C,c(s("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>n.value=t),type:"password",class:"form-control",id:"password"},null,512),[[r,n.value]])]),s("button",{onClick:_,type:"submit",class:"btn btn-primary"}," 送出 "),s("div",null,[d(" 沒有帳號嗎？ "),x(o,{to:"/register"},{default:k(()=>[d("註冊去")]),_:1})])])])}}};export{D as default};
