import{u as D,i as S,r as y,m as $,g as p,o as n,c as i,d,b as t,F as r,n as b,x as o,t as P,D as B,E as C}from"./index-907ac9d8.js";import{_ as N}from"./plugin-vueexport-helper-c27b6911.js";const m=l=>(B("data-v-ca08ea93"),l=l(),C(),l),U={class:"container"},V={class:"row py-3"},j={class:"col-md-6"},E=m(()=>t("h2",null,"產品列表",-1)),F={class:"table table-hover mt-4"},L=m(()=>t("thead",null,[t("tr",null,[t("th",{width:"150"},"產品名稱"),t("th",{width:"120"},"原價"),t("th",{width:"120"},"售價"),t("th",{width:"150"},"是否啟用"),t("th",{width:"120"},"查看細節")])],-1)),T={width:"150"},z={width:"120"},A={width:"120"},M={width:"150"},O={key:0,class:"text-success"},R={key:1},W={width:"120"},q=["onClick"],G={class:"col-md-6"},H=m(()=>t("h2",null,"單一產品細節",-1)),J={class:"card mb-3"},K=["src"],Q={class:"card-body"},X={class:"card-title"},Y={class:"badge bg-primary ms-2"},Z={class:"card-text"},tt={class:"card-text"},st={class:"d-flex"},et={class:"card-text me-2"},at={class:"card-text text-secondary"},ot=["src"],ct={key:1,class:"text-secondary"},nt={__name:"DashboardIndex",setup(l){const v=D(),u=S("$swal"),g="https://vue3-course-api.hexschool.io/v2",k="vue3",_=y([]),e=y({}),w=()=>{p.post(`${g}/api/user/check`).then(({data:s})=>{s.success?f():(u("請重新登入"),v.push({name:"login"}))}).catch(s=>{var a;console.dir(s),u((a=s==null?void 0:s.response)==null?void 0:a.data),v.push({name:"login"})})},f=()=>{p.get(`${g}/api/${k}/admin/products/all`).then(({data:s})=>{_.value=Object.values(s.products)}).catch(s=>{var a;console.dir(s),u((a=s==null?void 0:s.response)==null?void 0:a.data)})},I=s=>{e.value=_.value.find(a=>a.id===s)};return $(()=>{var a;const s=(a=document.cookie.split("; ").find(h=>h.startsWith("ttShopToken=")))==null?void 0:a.split("=")[1];p.defaults.headers.common.Authorization=s,w()}),(s,a)=>{var h,x;return n(),i("div",null,[d(" 後臺首頁 "),t("div",U,[t("div",V,[t("div",j,[E,t("table",F,[L,t("tbody",null,[(n(!0),i(r,null,b(_.value,c=>(n(),i("tr",{key:c.id},[t("td",T,o(c.title),1),t("td",z,o(c.origin_price),1),t("td",A,o(c.price),1),t("td",M,[c.is_enabled?(n(),i("span",O,"啟用")):(n(),i("span",R,"未啟用"))]),t("td",W,[t("button",{onClick:it=>I(c.id),type:"button",class:"btn btn-primary"}," 查看細節 ",8,q)])]))),128))])]),t("p",null,[d(" 目前有 "),t("span",null,o(_.value.length),1),d(" 項產品 ")])]),t("div",G,[H,e.value.id?(n(),i(r,{key:0},[t("div",J,[t("img",{src:e.value.imageUrl,class:"card-img-top primary-image",alt:"主圖"},null,8,K),t("div",Q,[t("h5",X,[d(o(e.value.title)+" ",1),t("span",Y,o(),1)]),t("p",Z,"商品描述："+o(e.value.description),1),t("p",tt,"商品內容："+o(e.value.content),1),t("div",st,[t("p",et,o(e.value.price),1),t("p",at,[t("del",null,o(e.value.origin_price),1)]),d(" 元 / "+o(e.value.unit),1)])])]),((x=(h=e.value)==null?void 0:h.imagesUrl)==null?void 0:x.length)>0?(n(!0),i(r,{key:0},b(e.value.imagesUrl,c=>(n(),i("img",{src:c,key:c,alt:"image",class:"images m-2"},null,8,ot))),128)):P("",!0)],64)):(n(),i("p",ct,"請選擇一個商品查看"))])])])])}}},_t=N(nt,[["__scopeId","data-v-ca08ea93"]]);export{_t as default};
